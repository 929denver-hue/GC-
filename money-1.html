<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GCè´ˆç‰©ç¶²ï½œç‰©æµé‡‘æµæ¨¡å‹è©¦ç®—</title>
  <style>
    :root{
      --bg:#f8fafc;
      --panel:#ffffff;
      --muted:#64748b;
      --text:#0f172a;
      --accent:#16a34a;
      --danger:#dc2626;
      --ring:#e2e8f0;
      --highlight:#dcfce7;
    }
    body{margin:0;background:var(--bg);color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Noto Sans",sans-serif;}
    .wrap{max-width:900px;margin:32px auto;padding:0 16px}
    h1{font-size:20px;font-weight:700;margin-bottom:16px}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    .card{background:var(--panel);border:1px solid var(--ring);border-radius:16px;box-shadow:0 4px 12px rgba(15,23,42,.05)}
    .body{padding:16px}
    .input-area{border:2px solid var(--ring);border-radius:12px;padding:16px;background:#f9fafb;margin-bottom:12px}
    .input{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}
    label{font-size:13px;color:var(--muted)}
    input[type="number"]{padding:10px 12px;border-radius:10px;border:1px solid var(--ring);font-size:15px;color:var(--text)}
    input:focus{border-color:#60a5fa;box-shadow:0 0 0 3px rgba(37,99,235,.15)}
    .kpi{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
    .item{background:#fff;border:1px solid var(--ring);border-radius:10px;padding:12px}
    .label{font-size:13px;color:var(--muted)}
    .value{font-size:18px;font-weight:700;margin-top:2px;color:var(--text)}
    .pos{color:var(--accent)}
    .neg{color:var(--danger)}
    table{width:100%;border-collapse:collapse;margin-top:12px}
    th,td{padding:10px;border-bottom:1px solid var(--ring);font-size:14px}
    th{text-align:left;color:var(--muted)}
    #rowTotal{color:#065f46;font-weight:700;background:var(--highlight)}
    .footer-btn{margin-top:20px;text-align:center}
    .footer-btn a{display:inline-block;background:#16a34a;color:#fff;padding:10px 20px;border-radius:8px;text-decoration:none;font-weight:600;box-shadow:0 3px 6px rgba(22,163,74,.2)}
    .footer-btn a:hover{background:#15803d}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>ğŸ’° GCè´ˆç‰©ç¶²ï½œç‰©æµé‡‘æµæ¨¡å‹è©¦ç®—</h1>

    <div class="grid">
      <section class="card">
        <div class="body input-area">
          <div class="input">
            <label for="topup">å„²å€¼é‡‘é¡ï¼ˆå…ƒï¼‰</label>
            <input id="topup" type="number" min="0" step="1" value="300" />
          </div>
          <div class="input">
            <label for="spread">ç‰©æµå·®åƒ¹ï¼ˆå…ƒï¼æ¬¡ï¼‰</label>
            <input id="spread" type="number" min="0" step="1" value="12" />
          </div>
          <div class="input">
            <label for="shipments">å¯„ä»¶æ•¸é‡ï¼ˆåŒ…è£¹ç¸½æ•¸ï¼‰</label>
            <input id="shipments" type="number" min="0" step="1" />
          </div>
        </div>
      </section>

      <section class="card">
        <div class="body">
          <div class="kpi">
            <div class="item"><div class="label">å¯ä½¿ç”¨æ¬¡æ•¸</div><div class="value" id="kpiN">â€”</div></div>
            <div class="item"><div class="label">æ·¨æ”¶ç›Š</div><div class="value" id="kpiNet">â€”</div></div>
            <div class="item"><div class="label">æ¯æ¬¡å¹³å‡æ·¨æ”¶ç›Š</div><div class="value" id="kpiAvg">â€”</div></div>
            <div class="item"><div class="label">ç‰©æµç¸½æ·¨åˆ©</div><div class="value" id="kpiTotal">â€”</div></div>
          </div>
        </div>
      </section>
    </div>

    <section class="card" style="margin-top:16px">
      <div class="body">
        <table>
          <thead><tr><th>é …ç›®</th><th>èªªæ˜</th><th>é‡‘é¡ï¼æ•¸å€¼</th></tr></thead>
          <tbody>
            <tr><td>å¹³å°æ”¶å…¥</td><td>ç‰©æµå·®åƒ¹ Ã— å¯ä½¿ç”¨æ¬¡æ•¸</td><td id="rowRevenue">â€”</td></tr>
            <tr><td>ç¨…é‡‘</td><td>å„²å€¼é‡‘é¡ Ã— 5%</td><td id="rowTax">â€”</td></tr>
            <tr><td>å¹³å°æ”¯å‡º</td><td>é‡‘æµ 5 + ç™¼ç¥¨ 1 + ç¨…é‡‘</td><td id="rowCost">â€”</td></tr>
            <tr><td>æ·¨æ”¶ç›Š</td><td>å¹³å°æ”¶å…¥ âˆ’ å¹³å°æ”¯å‡º</td><td id="rowNet">â€”</td></tr>
            <tr><td>æ¯æ¬¡å¹³å‡æ·¨æ”¶ç›Š</td><td>æ·¨æ”¶ç›Š Ã· å¯ä½¿ç”¨æ¬¡æ•¸</td><td id="rowAvg">â€”</td></tr>
            <tr style="background:var(--highlight);font-weight:700;color:#065f46;"><td>ç‰©æµç¸½æ·¨åˆ©</td><td>å¯„ä»¶æ•¸é‡ Ã— æ¯æ¬¡å¹³å‡æ·¨æ”¶ç›Š</td><td id="rowTotal">â€”</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <div class="footer-btn">
      <a href="https://929denver-hue.github.io/GC-/money.html" target="_blank">å‰å¾€èªªæ˜</a>
    </div>
  </div>

  <script>
    const $ = s=>document.querySelector(s);
    const fmt=n=>isFinite(n)?n.toLocaleString('zh-Hant',{style:'currency',currency:'TWD',minimumFractionDigits:2}):'â€”';
    const FEE=60,TAX=0.05,FIXED=5,INV=1;
    const round2=x=>Math.round((x+Number.EPSILON)*100)/100;

    function compute(){
      const topup=+$('#topup').value||0;
      const spread=+$('#spread').value||0;
      let ship=+$('#shipments').value;
      const N=Math.floor(topup/FEE);
      if(!ship||ship<=0) ship=N;
      const revenue=spread*N;
      const tax=topup*TAX;
      const cost=FIXED+INV+tax;
      const net=revenue-cost;
      const avg=N>0?net/N:NaN;
      const total=isNaN(avg)?NaN:ship*avg;
      $('#kpiN').textContent=N;
      $('#kpiNet').textContent=fmt(round2(net));
      $('#kpiAvg').textContent=isNaN(avg)?'â€”':fmt(round2(avg));
      $('#kpiTotal').textContent=isNaN(total)?'â€”':fmt(round2(total));
      $('#rowRevenue').textContent=fmt(round2(revenue));
      $('#rowTax').textContent=fmt(round2(tax));
      $('#rowCost').textContent=fmt(round2(cost));
      $('#rowNet').textContent=fmt(round2(net));
      $('#rowAvg').textContent=isNaN(avg)?'â€”':fmt(round2(avg));
      $('#rowTotal').textContent=isNaN(total)?'â€”':fmt(round2(total));
    }
    ['topup','spread','shipments'].forEach(id=>$('#'+id).addEventListener('input',compute));
    compute();
  </script>
</body>
</html>
