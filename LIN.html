<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¦¬å¹´å¥½é‹å•Ÿå‹•å°</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500&family=Noto+Serif+TC:wght@600;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- è¦–è¦ºèˆ‡è‰²ç¥¨è¨­å®š --- */
        :root {
            --bg-color: #121212; /* æ·±å¢¨é»‘ */
            --bg-light: #1A1A1A; /* å¤œå¢¨ç° */
            --primary-red: #8C1D18; /* èƒ­è„‚ç´… */
            --dark-red: #6E1B17; /* æ£—ç´… */
            --accent-gold: #C9A24D; /* éœ§é‡‘ */
            --text-light: #F5EFE6; /* ç±³ç™½ */
            
            --font-serif: 'Noto Serif TC', serif;
            --font-sans: 'Noto Sans TC', sans-serif;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-color);
            color: var(--text-light);
            font-family: var(--font-sans);
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden; /* é˜²æ­¢æ»¾å‹• */
        }

        .container {
            width: 100%;
            max-width: 600px; /* é©åˆå¹³æ¿ç›´å¼ */
            height: 100vh;
            padding: 40px 20px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: relative;
        }

        /* --- éš±è—èˆ‡é¡¯ç¤ºé‚è¼¯ --- */
        .screen {
            display: none;
            width: 100%;
            animation: fadeIn 0.8s ease-in-out;
        }
        .screen.active {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- å­—é«”èˆ‡æ’ç‰ˆ --- */
        h1, h2, .serif-text {
            font-family: var(--font-serif);
            font-weight: 600;
            letter-spacing: 2px;
            margin: 0;
        }

        .title {
            font-size: 2.5rem;
            color: var(--accent-gold);
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.1rem;
            color: var(--text-light);
            opacity: 0.8;
            margin-bottom: 50px;
            font-weight: 400;
        }

        .divider {
            width: 40px;
            height: 1px;
            background-color: var(--primary-red);
            margin: 30px auto;
        }

        /* --- è¼¸å…¥å€è¨­è¨ˆ --- */
        .input-group {
            margin-bottom: 30px;
            width: 80%;
        }

        .name-input {
            width: 100%;
            background: transparent;
            border: 1px solid var(--text-light);
            color: var(--text-light);
            font-size: 1.5rem;
            font-family: var(--font-serif);
            text-align: center;
            padding: 15px;
            box-sizing: border-box;
            outline: none;
            transition: all 0.3s;
        }
        .name-input:focus {
            border-color: var(--accent-gold);
            background: rgba(255,255,255,0.05);
        }

        /* éš±è—é è¨­ placeholder é¡è‰²ï¼Œè‡ªè¨‚æ¨£å¼ */
        .name-input::placeholder {
            color: rgba(245, 239, 230, 0.3);
            font-family: var(--font-sans);
            font-size: 1rem;
        }

        /* æ•¸é‡æ§åˆ¶å™¨ */
        .amount-control {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 20px;
        }
        .amount-label {
            font-size: 0.9rem;
            opacity: 0.7;
            margin-bottom: 10px;
        }
        .btn-icon {
            background: transparent;
            border: 1px solid var(--accent-gold);
            color: var(--accent-gold);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .amount-display {
            font-size: 1.5rem;
            font-family: var(--font-serif);
            width: 30px;
        }

        /* --- æŒ‰éˆ•è¨­è¨ˆ --- */
        .btn-primary {
            background-color: var(--primary-red);
            color: var(--text-light);
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-family: var(--font-serif);
            letter-spacing: 2px;
            cursor: pointer;
            margin-top: 20px;
            transition: background-color 0.3s;
        }
        .btn-primary:hover {
            background-color: var(--dark-red);
        }

        /* --- è½‰å‹•ç•«é¢è¨­è¨ˆ --- */
        .spin-circle {
            width: 200px;
            height: 200px;
            border: 2px solid var(--accent-gold);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 40px auto;
            position: relative;
        }
        
        /* æ¥µç°¡é¦¬å¹´æ„è±¡ (ç”¨CSSç¹ªè£½ç°¡å–®å¹¾ä½•ç·šæ¢ä»£æ›¿åœ–ç‰‡ï¼Œç¢ºä¿å–®æª”å¯åŸ·è¡Œ) */
        .horse-icon {
            font-size: 4rem;
            color: var(--primary-red);
            font-family: var(--font-serif);
        }

        .spinning {
            animation: spinAnim 8s cubic-bezier(0.2, 0.8, 0.3, 1) forwards;
        }

        @keyframes spinAnim {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(1440deg); } /* è½‰4åœˆå¾Œåœæ­¢ */
        }

        .spin-text {
            font-size: 1.2rem;
            letter-spacing: 2px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 0.5; }
            50% { opacity: 1; }
            100% { opacity: 0.5; }
        }

        /* --- çµæœç•«é¢è¨­è¨ˆ --- */
        .result-name {
            font-size: 2rem;
            color: var(--accent-gold);
            margin-bottom: 10px;
        }

        .reward-box {
            background: var(--bg-light);
            border: 1px solid var(--primary-red);
            padding: 30px;
            width: 80%;
            margin: 20px 0;
            position: relative;
        }
        .reward-box::before, .reward-box::after {
            content: '';
            position: absolute;
            width: 10px; height: 10px;
            border: 1px solid var(--accent-gold);
        }
        .reward-box::before { top: 5px; left: 5px; border-right: none; border-bottom: none; }
        .reward-box::after { bottom: 5px; right: 5px; border-left: none; border-top: none; }

        .reward-title {
            font-size: 1rem;
            color: var(--text-light);
            opacity: 0.8;
            margin-bottom: 10px;
        }
        .reward-content {
            font-size: 1.8rem;
            color: var(--text-light);
        }

        .quote-text {
            font-size: 1.2rem;
            line-height: 1.8;
            color: var(--text-light);
            padding: 0 20px;
            margin: 30px 0;
            opacity: 0.9;
        }

        .footer-text {
            font-size: 0.9rem;
            opacity: 0.6;
            margin-top: 40px;
        }
        
        /* é‡ç½®æŒ‰éˆ• (å³ä¸Šè§’ä½èª¿é¡¯ç¤ºï¼Œä¾›æ´»å‹•äººå“¡ä½¿ç”¨) */
        .btn-reset {
            position: absolute;
            top: 20px;
            right: 20px;
            background: transparent;
            color: rgba(255,255,255,0.2);
            border: none;
            font-size: 0.8rem;
            cursor: pointer;
        }
    </style>
</head>
<body>

<div class="container">
    <button class="btn-reset" onclick="resetApp()">â†º é‡ç½®</button>

    <div id="screen-input" class="screen active">
        <h1 class="title">é¦¬å¹´ Â· å¥½é‹å•Ÿå‹•å°</h1>
        <div class="subtitle">è½‰å‹•çš„ä¸æ˜¯é‹æ°£ï¼Œæ˜¯è¿æ¥å¥½é‹çš„å¿ƒæ„</div>
        
        <div class="divider"></div>

        <div class="input-group">
            <input type="text" id="userName" class="name-input" placeholder="è«‹ç•™ä¸‹åå­—" maxlength="8" autocomplete="off">
        </div>

        <div class="input-group">
            <div class="amount-label">ä»Šå¹´æƒ³æ¥ä½çš„å¥½é‹ä»½é‡</div>
            <div class="amount-control">
                <button class="btn-icon" onclick="changeAmount(-1)">âˆ’</button>
                <div id="amountDisplay" class="amount-display">1</div>
                <button class="btn-icon" onclick="changeAmount(1)">+</button>
            </div>
        </div>

        <div class="divider"></div>

        <button class="btn-primary" onclick="startSpin()">å•Ÿå‹•å¥½é‹</button>
    </div>

    <div id="screen-spin" class="screen">
        <div class="spin-circle" id="spinner">
            <div class="horse-icon">é¦¬</div>
        </div>
        <div class="serif-text spin-text">è®“æ–°å¹´çš„ç¥ç¦ï¼Œæ‰¾åˆ°ä½ ...</div>
    </div>

    <div id="screen-result" class="screen">
        <div class="subtitle" style="margin-bottom: 10px;">ç¥ç¦å·²ç”Ÿæˆ</div>
        <h2 id="resultName" class="result-name serif-text">æ—æ€¡å› çš„æ–°å¹´å¥½é‹</h2>
        
        <div class="reward-box">
            <div class="reward-title">ğŸ å¥½é‹å…¥æ‰‹</div>
            <div id="resultReward" class="reward-content serif-text">500 å…ƒ å¸Œæœ›ç„¡çª® åˆ®åˆ®æ¨‚</div>
        </div>

        <div id="resultQuote" class="quote-text serif-text">
            ã€Œåªè¦ä¸€æ­¥ä¸€æ­¥å‘å‰ï¼Œå¥½é‹è‡ªç„¶æœƒåœ¨è·¯ä¸Šã€‚ã€
        </div>

        <div class="divider"></div>
        <div class="footer-text">è«‹å‘å·¥ä½œäººå“¡é ˜å–ä½ çš„ç´…åŒ…ç¥ç¦</div>
        
        <button class="btn-primary" onclick="resetApp()" style="margin-top: 20px; font-size: 1rem; padding: 10px 30px;">ä¸‹ä¸€ä½æ¥å¥½é‹</button>
    </div>
</div>

<script>
    // --- 1. è³‡æ–™è¨­å®š ---
    const rewards = ["500", "200"];
    const quotes = [
        "ä¸€æ­¥ä¸€æ­¥èµ°ï¼Œå¥½é‹å°±åœ¨è·¯ä¸Šã€‚",
        "å¿ƒå®šäº†ï¼Œè·¯å°±äº®äº†ã€‚",
        "æ–°çš„ä¸€å¹´ï¼Œé¡˜åŠªåŠ›éƒ½æœ‰å›æ‡‰ã€‚",
        "è¡Œå‹•ï¼Œå°±æ˜¯æœ€å¥½çš„ç¥ç¦ã€‚",
        "é¡˜ä»Šå¤©çš„æœŸå¾…ï¼Œæˆç‚ºæ˜å¤©çš„æ”¶ç©«ã€‚",
        "æ…¢æ…¢ä¾†ï¼Œä¹Ÿæ˜¯ä¸€ç¨®å‰é€²ã€‚",
        "é¡˜ä½ æ‰€èµ°çš„æ¯ä¸€æ­¥ï¼Œéƒ½é è¿‘å¿ƒä¹‹æ‰€å‘ã€‚",
        "æŠŠå¸Œæœ›ç•™åœ¨å¿ƒè£¡ï¼Œå¥½é‹è‡ªç„¶æœƒä¾†ã€‚",
        "æ–°å¹´ä¸æ˜¯é‡ä¾†ï¼Œè€Œæ˜¯æ›´é è¿‘ã€‚",
        "é¡˜å–„æ„æˆç‚ºä½ æœ€é•·ä¹…çš„é‹æ°£ã€‚"
    ];

    let currentAmount = 1;

    // --- 2. äº’å‹•é‚è¼¯ ---
    function changeAmount(delta) {
        currentAmount += delta;
        if (currentAmount < 1) currentAmount = 1;
        if (currentAmount > 9) currentAmount = 9;
        document.getElementById('amountDisplay').innerText = currentAmount;
    }

    function switchScreen(screenId) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(screenId).classList.add('active');
    }

    function startSpin() {
        const nameInput = document.getElementById('userName').value.trim();
        if (!nameInput) {
            alert("è«‹ä»¥å¯«æ˜¥è¯çš„å¿ƒæƒ…ï¼Œç•™ä¸‹æ‚¨çš„åå­—å–”ï¼");
            document.getElementById('userName').focus();
            return;
        }

        // åˆ‡æ›åˆ°è½‰å‹•ç•«é¢
        switchScreen('screen-spin');
        
        // è§¸ç™¼å‹•ç•«
        const spinner = document.getElementById('spinner');
        spinner.classList.remove('spinning');
        void spinner.offsetWidth; // è§¸ç™¼é‡ç¹ª (Reflow)
        spinner.classList.add('spinning');

        // æ¨¡æ“¬éŸ³æ•ˆæ’­æ”¾ (å¯¦å‹™ä¸Šé€™è£¡å¯ä»¥æ”¾å…¥ Audio API)
        // playDrumSound();

        // è¨­å®š 8 ç§’å¾Œé¡¯ç¤ºçµæœ (é…åˆ CSS å‹•ç•«æ™‚é–“)
        setTimeout(() => {
            showResult(nameInput);
        }, 8000); 
    }

    function showResult(name) {
        // éš¨æ©ŸæŠ½å–çå‹µèˆ‡é‡‘å¥
        const finalReward = rewards[Math.floor(Math.random() * rewards.length)];
        const finalQuote = quotes[Math.floor(Math.random() * quotes.length)];

        // å¯«å…¥ç•«é¢
        document.getElementById('resultName').innerText = `${name} çš„æ–°å¹´å¥½é‹`;
        document.getElementById('resultReward').innerText = `${finalReward} å…ƒ å¸Œæœ›ç„¡çª® åˆ®åˆ®æ¨‚`;
        document.getElementById('resultQuote').innerText = `ã€Œ${finalQuote}ã€`;

        // åˆ‡æ›ç•«é¢
        switchScreen('screen-result');
    }

    function resetApp() {
        document.getElementById('userName').value = '';
        currentAmount = 1;
        document.getElementById('amountDisplay').innerText = currentAmount;
        document.getElementById('spinner').classList.remove('spinning');
        switchScreen('screen-input');
    }
</script>

</body>
</html>
