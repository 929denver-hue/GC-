<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 çµ¦ç¤¾å·¥æ„›çš„é¼“å‹µ - åƒç´ æˆ°ç·š</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&family=Press+Start+2P&family=Noto+Serif+TC:wght@600&display=swap" rel="stylesheet">
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    
    <style>
        :root {
            --primary: #E65100; /* æº«æš–æ©˜ */
            --accent: #FFD54F;  /* å¸Œæœ›é»ƒ */
            --dark: #212121;    /* æ©Ÿå°é»‘ */
            --screen-bg: #fff;
        }
        
        * { box-sizing: border-box; }
        body { margin: 0; font-family: 'Noto Sans TC', sans-serif; background-color: #111; color: #fff; height: 100vh; overflow: hidden; display: flex; justify-content: center; }

        /* --- éš±å½¢è¯è³½è·‘é¦¬ç‡ˆ --- */
        .league-ticker {
            position: absolute; top: 0; left: 0; width: 100%; height: 28px; background: #000; 
            border-bottom: 2px solid #333; overflow: hidden; white-space: nowrap; z-index: 100;
            display: flex; align-items: center;
        }
        .ticker-content {
            display: inline-block; padding-left: 100%; animation: ticker 20s linear infinite;
            font-family: 'Press Start 2P', monospace; font-size: 10px; color: #00E676;
        }
        @keyframes ticker { 100% { transform: translate(-100%, 0); } }

        /* --- éŠæˆ²æ©Ÿä¸»é«” --- */
        .arcade-cabinet {
            width: 100%; max-width: 480px; height: 100%; position: relative;
            background: var(--dark); border-left: 2px solid #333; border-right: 2px solid #333;
            display: flex; flex-direction: column;
        }

        /* --- è¢å¹•å€åŸŸ (è®ŠåŒ–æ ¸å¿ƒ) --- */
        .screen-container {
            flex: 1; background: var(--screen-bg); position: relative; overflow: hidden;
            border-bottom: 4px solid #333;
        }

        /* STAGE 1: æŠ•å¹£ç•«é¢ */
        .coin-stage {
            height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center;
            background: radial-gradient(circle, #424242 0%, #000 90%);
            text-align: center; padding: 20px; transition: transform 0.8s ease-in-out;
        }
        .insert-coin-text {
            font-family: 'Press Start 2P'; color: var(--accent); font-size: 18px; margin-bottom: 40px;
            animation: blink 1s infinite;
        }
        @keyframes blink { 50% { opacity: 0; } }
        
        .coin {
            width: 100px; height: 100px; background: #FFD700; border-radius: 50%; border: 4px solid #FFA000;
            display: flex; align-items: center; justify-content: center; font-size: 50px; color: #E65100;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); cursor: pointer; transition: 0.3s;
            animation: float 2s infinite ease-in-out;
        }
        .coin:active { transform: scale(0.9); }
        .coin-slot {
            width: 120px; height: 12px; background: #000; border: 2px solid #555; border-radius: 10px;
            margin-top: 50px; box-shadow: inset 0 0 5px #333;
        }
        .hand-guide {
            font-size: 24px; position: absolute; top: 60%; left: 60%; 
            animation: pointClick 1.5s infinite; pointer-events: none;
        }
        @keyframes pointClick { 0%,100% {transform: translate(0,0);} 50% {transform: translate(-10px, -10px);} }

        /* STAGE 2: æ•…äº‹èˆ‡äº’å‹• (æ»‘å…¥å¼) */
        .story-stage {
            position: absolute; top: 100%; left: 0; width: 100%; height: 100%;
            background: #fff; transition: top 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
            display: flex; flex-direction: column; overflow-y: auto;
        }
        .story-header-img {
            width: 100%; height: 250px; object-fit: cover; filter: sepia(30%);
            mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
        }
        .story-content { padding: 20px; color: #333; margin-top: -40px; position: relative; z-index: 10; }
        .unit-badge { 
            background: var(--primary); color: #fff; padding: 5px 12px; font-size: 12px; 
            border-radius: 20px; display: inline-block; margin-bottom: 10px; box-shadow: 0 4px 10px rgba(230,81,0,0.3);
        }
        .story-text {
            font-family: 'Noto Serif TC', serif; font-size: 15px; line-height: 1.8; text-align: justify;
            color: #444; margin-bottom: 25px; border-left: 3px solid var(--accent); padding-left: 15px;
        }

        /* äº’å‹•å€å¡Š */
        .action-box { background: #f5f5f5; border-radius: 12px; padding: 15px; margin-bottom: 20px; }
        .tag-row { display: flex; gap: 8px; margin-bottom: 10px; overflow-x: auto; padding-bottom: 5px; }
        .tag-btn { 
            white-space: nowrap; padding: 6px 12px; border: 1px solid #ccc; border-radius: 20px; 
            font-size: 12px; color: #666; cursor: pointer; 
        }
        .tag-btn.active { background: var(--primary); color: #fff; border-color: var(--primary); }
        
        textarea { width: 100%; border: 1px solid #ddd; padding: 10px; border-radius: 8px; font-family: inherit; resize: none; }
        
        .faction-tag {
            font-size: 10px; color: #999; text-align: right; margin-top: 5px; display: flex; align-items: center; justify-content: flex-end; gap: 5px;
        }

        .btn-submit {
            width: 100%; background: var(--primary); color: #fff; border: none; padding: 15px;
            font-size: 16px; font-weight: bold; border-radius: 50px; cursor: pointer;
            box-shadow: 0 4px 15px rgba(230, 81, 0, 0.4); margin-bottom: 30px;
        }

        /* STAGE 3: çµç®— Modal */
        .result-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); display: none; align-items: center; justify-content: center; z-index: 50;
        }
        .result-card { background: #fff; padding: 30px; border-radius: 12px; text-align: center; max-width: 320px; width: 90%; color: #333; animation: popIn 0.5s; }
        @keyframes popIn { 0% { transform: scale(0.8); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }

    </style>
</head>
<body>

    <div class="league-ticker">
        <div class="ticker-content" id="ticker-text">
            â¤ï¸ å°ç©é›» æˆ°éšŠ ç´¯ç©è²¢ç» 52,040 æ„›å¿ƒå¹£  |  â¤ï¸ ä¾†è‡ª å°åŒ— çš„ User888 å‰›å‰›ç‚º è¯å±±åŸºé‡‘æœƒ åŠ æ²¹  |  â¤ï¸ å¯Œé‚¦é‡‘æ§ æˆ°éšŠ æ’åä¸Šå‡è‡³ No.3 ...
        </div>
    </div>

    <div class="arcade-cabinet">
        <div class="screen-container">
            
            <div id="stage-coin" class="coin-stage">
                <div class="insert-coin-text">INSERT COIN TO START</div>
                <div class="coin" onclick="insertCoin()">â¤ï¸</div>
                <div class="coin-slot"></div>
                <div class="hand-guide">ğŸ‘†</div>
                <div style="margin-top:20px; font-size:10px; color:#666;">
                    ä»Šæ—¥å‰©é¤˜æ„›å¿ƒ: <span id="daily-limit">3</span>/3
                </div>
            </div>

            <div id="stage-story" class="story-stage">
                <img src="https://images.unsplash.com/photo-1544027993-37dbfe43562a?auto=format&fit=crop&w=800&q=80" class="story-header-img" id="unit-img">
                
                <div class="story-content">
                    <div class="unit-badge" id="unit-name">å‹µé¦¨åŸºé‡‘æœƒ</div>
                    
                    <div class="story-text" id="unit-desc">
                        é‚£æ˜¯å€‹æš´é›¨çš„æ·±å¤œï¼Œé›»è©±è²åŠƒç ´äº†è¾¦å…¬å®¤çš„å¯§éœã€‚è©±ç­’é‚£é ­çš„é¡«æŠ–ï¼Œæ˜¯æˆ‘å€‘æœ€ç†Ÿæ‚‰çš„æ±‚æ•‘è¨Šè™Ÿã€‚æˆ‘å€‘ä¸åªæ˜¯æ¥è½é›»è©±çš„äººï¼Œæ›´æ˜¯é™ªè‘—å¥¹åœ¨é¢¨é›¨ä¸­æ‰¾å›å‹‡æ°£çš„éå®¢ã€‚è¨±å¤šäººå•æˆ‘å€‘ç‚ºä»€éº¼å …æŒï¼Ÿå› ç‚ºæˆ‘å€‘ç›¸ä¿¡ï¼Œæ¯ä¸€å€‹å—å‚·çš„éˆé­‚ï¼Œéƒ½å€¼å¾—å†ä¸€æ¬¡è¢«æº«æŸ”æ¥ä½ã€‚
                    </div>

                    <div class="action-box">
                        <label style="font-size:12px; font-weight:bold; color:#555; display:block; margin-bottom:8px;">ä¸€å¥è©±é€æš– (é»æ“Šå¸¶å…¥)ï¼š</label>
                        <div class="tag-row">
                            <div class="tag-btn" onclick="fillInput('è¬è¬ä½ å€‘æ¥ä½å—å‚·çš„äººã€‚')">æ¥ä½å—å‚·çš„äºº</div>
                            <div class="tag-btn" onclick="fillInput('è¾›è‹¦äº†ï¼Œè«‹è¨˜å¾—ç…§é¡§è‡ªå·±ï¼')">è¨˜å¾—ç…§é¡§è‡ªå·±</div>
                            <div class="tag-btn" onclick="fillInput('ä½ å€‘æ˜¯é€™åº§åŸå¸‚çš„å…‰ã€‚')">åŸå¸‚çš„å…‰</div>
                        </div>

                        <textarea id="msg-input" rows="3" placeholder="å¯«ä¸‹ä½ çš„çœŸå¿ƒè©±..."></textarea>
                        
                        <div class="faction-tag" id="faction-display" style="display:none;">
                            ğŸ›¡ï¸ ä»£è¡¨æˆ°éšŠï¼š<span id="faction-name" style="font-weight:bold; color:var(--primary);"></span>
                        </div>
                    </div>

                    <button class="btn-submit" onclick="submitLove()">â¤ï¸ ç¢ºèªå‚³é€é¼“å‹µ</button>
                    <div style="height:50px;"></div> </div>
            </div>

        </div>
    </div>

    <div id="result-modal" class="result-overlay">
        <div class="result-card">
            <div style="font-size:50px; margin-bottom:10px;">ğŸ‰</div>
            <h2 style="margin:0 0 10px 0;">å‚³é€æˆåŠŸï¼</h2>
            <p style="color:#666; font-size:14px; margin-bottom:20px;">
                æ„Ÿè¬ä½ çš„é¼“å‹µï¼Œç¤¾å·¥å¤¥ä¼´å·²æ”¶åˆ°é€™ä»½æº«æš–ã€‚<br>
                <span id="result-faction-msg" style="color:var(--primary); font-weight:bold; display:none; margin-top:5px;">
                    (æ‚¨çš„ä¼æ¥­ç©åˆ† +100)
                </span>
            </p>
            <button class="btn-submit" style="padding:10px; font-size:14px;" onclick="location.reload()">å†ç©ä¸€æ¬¡</button>
        </div>
    </div>

    <script>
        // Data
        const units = [
            {
                name: "å‹µé¦¨åŸºé‡‘æœƒ",
                img: "https://images.unsplash.com/photo-1544027993-37dbfe43562a?auto=format&fit=crop&w=800&q=80",
                desc: "é‚£æ˜¯å€‹æš´é›¨çš„æ·±å¤œï¼Œé›»è©±è²åŠƒç ´äº†è¾¦å…¬å®¤çš„å¯§éœã€‚è©±ç­’é‚£é ­çš„é¡«æŠ–ï¼Œæ˜¯æˆ‘å€‘æœ€ç†Ÿæ‚‰çš„æ±‚æ•‘è¨Šè™Ÿã€‚æˆ‘å€‘ä¸åªæ˜¯æ¥è½é›»è©±çš„äººï¼Œæ›´æ˜¯é™ªè‘—å¥¹åœ¨é¢¨é›¨ä¸­æ‰¾å›å‹‡æ°£çš„éå®¢ã€‚è¨±å¤šäººå•æˆ‘å€‘ç‚ºä»€éº¼å …æŒï¼Ÿå› ç‚ºæˆ‘å€‘ç›¸ä¿¡ï¼Œæ¯ä¸€å€‹å—å‚·çš„éˆé­‚ï¼Œéƒ½å€¼å¾—å†ä¸€æ¬¡è¢«æº«æŸ”æ¥ä½ã€‚"
            },
            {
                name: "è¯å±±åŸºé‡‘æœƒ",
                img: "https://images.unsplash.com/photo-1516307365426-bea591f05011?auto=format&fit=crop&w=800&q=80",
                desc: "ç©¿æ¢­åœ¨åé„‰å°å··ï¼Œé‚£ä»¶ç†Ÿæ‚‰çš„èƒŒå¿ƒæ˜¯è¨±å¤šç¨å±…é•·è¼©å”¯ä¸€çš„ç›¼æœ›ã€‚æˆ‘å€‘ä¸åªéé€ä¾¿ç•¶ï¼Œæ›´éé€ã€Œå®¶ã€çš„æ„Ÿè¦ºã€‚ç•¶åŸå¸‚é€æ¼¸è€åŒ–ï¼Œæˆ‘å€‘é¸æ“‡æˆç‚ºé‚£é›™æ‰¶æŒçš„æ‰‹ï¼Œé™ªè‘—é•·è¼©èµ°éå­¤å–®çš„é»ƒæ˜ï¼Œè®“ã€Œè€ã€ä¸å†æ˜¯å­¤ç¨çš„ä»£åè©ï¼Œè€Œæ˜¯è¢«æº«æŸ”å°å¾…çš„æ­²æœˆã€‚"
            }
        ];

        // 1. è§£æç¶²å€åƒæ•¸ (éš±å½¢æˆ°éšŠçš„æ ¸å¿ƒ)
        const urlParams = new URLSearchParams(window.location.search);
        const myTeam = urlParams.get('team'); // ä¾‹å¦‚ ?team=TSMC

        // Init
        window.onload = () => {
            // å¦‚æœæœ‰å¸¶ team åƒæ•¸ï¼Œé¡¯ç¤ºæˆ°éšŠæ¨™ç¤º
            if (myTeam) {
                document.getElementById('faction-display').style.display = 'flex';
                document.getElementById('faction-name').innerText = myTeam;
                // ä¹Ÿå¯ä»¥æŠŠè·‘é¦¬ç‡ˆåŠ ä¸Šè©²å…¬å¸çš„æ­¡è¿è©
                const ticker = document.getElementById('ticker-text');
                ticker.innerText = `ğŸ‘‹ æ­¡è¿ ${myTeam} çš„å¤¥ä¼´åŠ å…¥å®ˆè­·è¡Œåˆ—ï¼ ` + ticker.innerText;
            }
        };

        // Actions
        function insertCoin() {
            const coin = document.querySelector('.coin');
            // å‹•ç•«ï¼šæŠ•å¹£
            coin.style.transition = "top 0.5s ease-in, transform 0.2s";
            coin.style.position = "absolute";
            coin.style.top = "60%"; // ç§»å‹•åˆ°æŠ•å¹£å­”ä½ç½®
            coin.style.transform = "scale(0.1)";
            coin.style.opacity = "0";

            setTimeout(() => {
                // é€²å…¥ä¸‹ä¸€éšæ®µ
                const stageCoin = document.getElementById('stage-coin');
                const stageStory = document.getElementById('stage-story');
                
                // éš¨æ©Ÿé¸å–®ä½
                const u = units[Math.floor(Math.random() * units.length)];
                document.getElementById('unit-name').innerText = u.name;
                document.getElementById('unit-desc').innerText = u.desc;
                document.getElementById('unit-img').src = u.img;

                stageStory.style.top = "0"; // æ»‘å…¥
            }, 600);
        }

        function fillInput(text) {
            document.getElementById('msg-input').value = text;
            document.querySelectorAll('.tag-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
        }

        function submitLove() {
            // æ¨¡æ“¬é€å‡º
            document.getElementById('result-modal').style.display = 'flex';
            if (myTeam) {
                const msg = document.getElementById('result-faction-msg');
                msg.style.display = 'block';
                msg.innerText = `(${myTeam} æˆ°éšŠç©åˆ† +100)`;
            }
        }
    </script>
</body>
</html>
